!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";!function(e,t,n){var i,a,o,c,s,r=t.querySelector(".menu-toggle"),d=t.getElementById("site-navigation"),l=(t.querySelector("#site-navigation.open"),t.getElementById("content")),u=t.getElementById("colophon"),m=t.querySelector("#panm-search a"),f=t.getElementById("searchform"),v=t.getElementById("close-searchform"),g=t.getElementById("triangle"),p=-20;function y(){i=t.documentElement,a=t.getElementsByTagName("body")[0],o=n.innerWidth||i.clientWidth||a.clientWidth,n.innerHeight||i.clientHeight||a.clientHeight,o>980&&(d.classList.remove("open"),l.classList.remove("abracadabra-fixed"),u.classList.remove("abracadabra-fixed")),b(s)}function h(t){e("#sub-nav-desktop").slick("slickGoTo",t-1,!1)}function b(e){var t=e.offset().left,n=e.outerWidth(!0)/2;p=t+n,jQuery(g).css("left",p+"px")}r.addEventListener("click",(function(e){menu_is_open=!0,d.classList.toggle("open"),l.classList.toggle("abracadabra-fixed"),u.classList.toggle("abracadabra-fixed"),t.querySelector("#site-navigation.open")})),m.addEventListener("click",(function(e){f.classList.toggle("active")})),v.addEventListener("click",(function(e){f.classList.remove("active")})),n.addEventListener("resize",(function(e){y()})),e(document).ready((function(){s=e("body.archive #main-menu-desktop .current-menu-ancestor a");var t=e("body.archive #main-menu-desktop .current-menu-ancestor").index();e("#sub-nav-desktop").slick({arrows:!1,vertical:!0,speed:200}),e("#main-menu-desktop > li > a").each((function(t){var n=e(this).parent().index();0!=n&&e(this).on("click mouseover",(function(t){t.preventDefault(),clearTimeout(c),e("#sub-nav-desktop").addClass("active"),h(n)}))})),e("#masthead").on("mouseleave",(function(n){if(clearTimeout(c),t>0)return h(t),void b(s);c=setTimeout((function(){e("#sub-nav-desktop").removeClass("active")}),600)})),e("#main-menu-desktop a").on("mousemove",(function(t){var n=e(t.target).parent().index();console.log(n),n<=0||b(e(t.target))})),h(t),b(s),y()}))}(jQuery,document,window)}));